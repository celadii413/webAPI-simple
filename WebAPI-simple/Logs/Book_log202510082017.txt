2025-10-08 20:17:32.105 +07:00 [INF] User profile is available. Using 'C:\Users\Viv\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-10-08 20:17:32.417 +07:00 [INF] Now listening on: https://localhost:7005
2025-10-08 20:17:32.419 +07:00 [INF] Now listening on: http://localhost:5020
2025-10-08 20:17:32.524 +07:00 [INF] Application started. Press Ctrl+C to shut down.
2025-10-08 20:17:32.525 +07:00 [INF] Hosting environment: Development
2025-10-08 20:17:32.528 +07:00 [INF] Content root path: D:\TH\LTW2\WebAPI-simple\WebAPI-simple
2025-10-08 20:17:33.582 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7005/swagger - null null
2025-10-08 20:17:33.708 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7005/swagger - 301 0 null 132.771ms
2025-10-08 20:17:33.723 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7005/swagger/index.html - null null
2025-10-08 20:17:33.779 +07:00 [INF] Request starting HTTP/1.1 GET https://localhost:7005/api/Books/get-all-books?filterOn=&filterQuery=&sortBy=&isAscending=True - null null
2025-10-08 20:17:33.844 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7005/swagger/index.html - 200 null text/html;charset=utf-8 120.9905ms
2025-10-08 20:17:33.861 +07:00 [INF] Executing endpoint 'WebAPI_simple.Controllers.BooksController.GetAll (WebAPI-simple)'
2025-10-08 20:17:33.872 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7005/swagger/swagger-ui.css - null null
2025-10-08 20:17:33.890 +07:00 [INF] Sending file. Request path: '/swagger-ui.css'. Physical path: 'N/A'
2025-10-08 20:17:33.892 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7005/swagger/swagger-ui.css - 499 152034 text/css 20.6538ms
2025-10-08 20:17:33.900 +07:00 [INF] Route matched with {action = "GetAll", controller = "Books"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAll(System.String, System.String, System.String, Boolean, Int32, Int32) on controller WebAPI_simple.Controllers.BooksController (WebAPI-simple).
2025-10-08 20:17:33.914 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7005/_framework/aspnetcore-browser-refresh.js - null null
2025-10-08 20:17:33.914 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7005/_vs/browserLink - null null
2025-10-08 20:17:33.922 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7005/_framework/aspnetcore-browser-refresh.js - 200 16474 application/javascript; charset=utf-8 8.7732ms
2025-10-08 20:17:33.986 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7005/_vs/browserLink - 200 null text/javascript; charset=UTF-8 73.0452ms
2025-10-08 20:17:34.103 +07:00 [INF] GetAll Book Action method was invoked
2025-10-08 20:17:34.106 +07:00 [WRN] This is a warning log
2025-10-08 20:17:34.107 +07:00 [ERR] This is an error log
2025-10-08 20:17:34.120 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7005/swagger/v1/swagger.json - null null
2025-10-08 20:17:34.141 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7005/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 21.916ms
2025-10-08 20:17:34.962 +07:00 [WRN] The query uses a row limiting operator ('Skip'/'Take') without an 'OrderBy' operator. This may lead to unpredictable results. If the 'Distinct' operator is used after 'OrderBy', then make sure to use the 'OrderBy' operator after 'Distinct' as the ordering would otherwise get erased.
2025-10-08 20:17:34.964 +07:00 [WRN] The query uses a row limiting operator ('Skip'/'Take') without an 'OrderBy' operator. This may lead to unpredictable results. If the 'Distinct' operator is used after 'OrderBy', then make sure to use the 'OrderBy' operator after 'Distinct' as the ordering would otherwise get erased.
2025-10-08 20:17:35.446 +07:00 [INF] Executed DbCommand (45ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [b0].[Id], [b0].[Title], [b0].[Description], [b0].[IsRead], CASE
    WHEN [b0].[IsRead] = CAST(1 AS bit) THEN [b0].[DateRead]
END, CASE
    WHEN [b0].[IsRead] = CAST(1 AS bit) THEN [b0].[Rate]
END, [b0].[Genre], [b0].[CoverUrl], [p].[Name], [p].[Id], [s].[FullName], [s].[Id], [s].[Id0]
FROM (
    SELECT [b].[Id], [b].[CoverUrl], [b].[DateRead], [b].[Description], [b].[Genre], [b].[IsRead], [b].[PublisherID], [b].[Rate], [b].[Title]
    FROM [Books] AS [b]
    ORDER BY (SELECT 1)
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [b0]
INNER JOIN [Publishers] AS [p] ON [b0].[PublisherID] = [p].[Id]
LEFT JOIN (
    SELECT [a].[FullName], [b1].[Id], [a].[Id] AS [Id0], [b1].[BookId]
    FROM [Book_Authors] AS [b1]
    INNER JOIN [Authors] AS [a] ON [b1].[AuthorId] = [a].[Id]
) AS [s] ON [b0].[Id] = [s].[BookId]
ORDER BY [b0].[Id], [p].[Id], [s].[Id]
2025-10-08 20:17:35.496 +07:00 [INF] Finished GetAllBook request with data [{"Id":1,"Title":"T\u00F4i Th\u1EA5y Hoa V\u00E0ng Tr\u00EAn C\u1ECF Xanh","Description":"C\u00E2u chuy\u1EC7n tu\u1ED5i th\u01A1 h\u1ED3n nhi\u00EAn, c\u1EA3m \u0111\u1ED9ng c\u1EE7a hai anh em Thi\u1EC1u v\u00E0 T\u01B0\u1EDDng.","IsRead":true,"DateRead":"2025-10-07T00:00:00","Rate":5,"Genre":"Tu\u1ED5i th\u01A1","CoverUrl":"https://i.pinimg.com/474x/1c/71/55/1c7155f928b1b9dcf71f054be08c7f3c.jpg","DateAdded":"0001-01-01T00:00:00","PublisherName":"NXB Tr\u1EBB","AuthorNames":["Nguy\u1EC5n Nh\u1EADt \u00C1nh"]},{"Id":2,"Title":"D\u1EBF M\u00E8n Phi\u00EAu L\u01B0u K\u00FD","Description":"H\u00E0nh tr\u00ECnh tr\u01B0\u1EDFng th\u00E0nh v\u00E0 kh\u00E1m ph\u00E1 th\u1EBF gi\u1EDBi c\u1EE7a D\u1EBF M\u00E8n.","IsRead":true,"DateRead":"2025-09-20T00:00:00","Rate":4,"Genre":"Thi\u1EBFu nhi","CoverUrl":"https://i.pinimg.com/474x/1c/71/55/1c7155f928b1b9dcf71f054be08c7f3c.jpg","DateAdded":"0001-01-01T00:00:00","PublisherName":"NXB Kim \u0110\u1ED3ng","AuthorNames":["T\u00F4 Ho\u00E0i"]},{"Id":3,"Title":"Ch\u00ED Ph\u00E8o","Description":"Bi k\u1ECBch c\u1EE7a ng\u01B0\u1EDDi n\u00F4ng d\u00E2n b\u1ECB x\u00E3 h\u1ED9i tha ho\u00E1 trong th\u1EDDi k\u1EF3 phong ki\u1EBFn.","IsRead":false,"DateRead":null,"Rate":null,"Genre":"Hi\u1EC7n th\u1EF1c ph\u00EA ph\u00E1n","CoverUrl":"https://i.pinimg.com/474x/1c/71/55/1c7155f928b1b9dcf71f054be08c7f3c.jpg","DateAdded":"0001-01-01T00:00:00","PublisherName":"NXB V\u0103n H\u1ECDc","AuthorNames":["Nam Cao"]},{"Id":4,"Title":"C\u00E1nh \u0110\u1ED3ng B\u1EA5t T\u1EADn","Description":"Nh\u1EEFng ph\u1EADn ng\u01B0\u1EDDi l\u1EA7m l\u0169i v\u00E0 kh\u00E1t v\u1ECDng s\u1ED1ng n\u01A1i mi\u1EC1n s\u00F4ng n\u01B0\u1EDBc.","IsRead":true,"DateRead":"2025-08-10T00:00:00","Rate":5,"Genre":"T\u00E2m l\u00FD x\u00E3 h\u1ED9i","CoverUrl":"https://i.pinimg.com/474x/1c/71/55/1c7155f928b1b9dcf71f054be08c7f3c.jpg","DateAdded":"0001-01-01T00:00:00","PublisherName":"NXB H\u1ED9i Nh\u00E0 V\u0103n","AuthorNames":["Nguy\u1EC5n Ng\u1ECDc T\u01B0"]},{"Id":5,"Title":"B\u1EBFn Qu\u00EA","Description":"C\u00E2u chuy\u1EC7n v\u1EC1 s\u1ED1 ph\u1EADn con ng\u01B0\u1EDDi v\u00E0 nh\u1EEFng gi\u00E1 tr\u1ECB b\u00ECnh d\u1ECB c\u1EE7a cu\u1ED9c s\u1ED1ng.","IsRead":true,"DateRead":"2025-07-15T00:00:00","Rate":4,"Genre":"T\u00E2m l\u00FD x\u00E3 h\u1ED9i","CoverUrl":"https://i.pinimg.com/474x/1c/71/55/1c7155f928b1b9dcf71f054be08c7f3c.jpg","DateAdded":"0001-01-01T00:00:00","PublisherName":"NXB V\u0103n H\u1ECDc","AuthorNames":["Nguy\u1EC5n Minh Ch\u00E2u"]},{"Id":6,"Title":"\u00D4ng Gi\u00E0 V\u00E0 Bi\u1EC3n C\u1EA3","Description":"C\u00E2u chuy\u1EC7n v\u1EC1 ngh\u1ECB l\u1EF1c phi th\u01B0\u1EDDng c\u1EE7a con ng\u01B0\u1EDDi tr\u01B0\u1EDBc thi\u00EAn nhi\u00EAn kh\u1EAFc nghi\u1EC7t.","IsRead":true,"DateRead":"2025-06-10T00:00:00","Rate":5,"Genre":"V\u0103n h\u1ECDc n\u01B0\u1EDBc ngo\u00E0i","CoverUrl":"https://i.pinimg.com/474x/1c/71/55/1c7155f928b1b9dcf71f054be08c7f3c.jpg","DateAdded":"0001-01-01T00:00:00","PublisherName":"NXB H\u1ED9i Nh\u00E0 V\u0103n","AuthorNames":["Hemingway"]},{"Id":7,"Title":"Harry Potter v\u00E0 H\u00F2n \u0110\u00E1 Ph\u00F9 Th\u1EE7y","Description":"Cu\u1ED9c phi\u00EAu l\u01B0u \u0111\u1EA7u ti\u00EAn c\u1EE7a c\u1EADu b\u00E9 ph\u00F9 th\u1EE7y Harry Potter t\u1EA1i Hogwarts.","IsRead":true,"DateRead":"2025-05-01T00:00:00","Rate":5,"Genre":"Gi\u1EA3 t\u01B0\u1EDFng","CoverUrl":"https://i.pinimg.com/474x/1c/71/55/1c7155f928b1b9dcf71f054be08c7f3c.jpg","DateAdded":"0001-01-01T00:00:00","PublisherName":"NXB Kim \u0110\u1ED3ng","AuthorNames":["J.K. Rowling"]},{"Id":8,"Title":"1984","Description":"M\u1ED9t x\u00E3 h\u1ED9i to\u00E0n tr\u1ECB n\u01A1i m\u1ECDi h\u00E0nh \u0111\u1ED9ng \u0111\u1EC1u b\u1ECB gi\u00E1m s\u00E1t.","IsRead":false,"DateRead":null,"Rate":null,"Genre":"Ch\u00EDnh tr\u1ECB - X\u00E3 h\u1ED9i","CoverUrl":"https://i.pinimg.com/474x/1c/71/55/1c7155f928b1b9dcf71f054be08c7f3c.jpg","DateAdded":"0001-01-01T00:00:00","PublisherName":"NXB Ph\u1EE5 N\u1EEF Vi\u1EC7t Nam","AuthorNames":["George Orwell"]},{"Id":9,"Title":"R\u1EEBng Na Uy","Description":"H\u00E0nh tr\u00ECnh tu\u1ED5i tr\u1EBB \u0111\u1EA7y m\u1EA5t m\u00E1t v\u00E0 kh\u00E1t v\u1ECDng s\u1ED1ng.","IsRead":true,"DateRead":"2025-03-18T00:00:00","Rate":4,"Genre":"T\u00E2m l\u00FD - L\u00E3ng m\u1EA1n","CoverUrl":"https://i.pinimg.com/474x/1c/71/55/1c7155f928b1b9dcf71f054be08c7f3c.jpg","DateAdded":"0001-01-01T00:00:00","PublisherName":"NXB Tr\u1EBB","AuthorNames":["Nam Cao"]}]
2025-10-08 20:17:35.507 +07:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[WebAPI_simple.Models.DTO.BookWithAuthorAndPublisherDTO, WebAPI-simple, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-10-08 20:17:35.520 +07:00 [INF] Executed action WebAPI_simple.Controllers.BooksController.GetAll (WebAPI-simple) in 1612.7248ms
2025-10-08 20:17:35.522 +07:00 [INF] Executed endpoint 'WebAPI_simple.Controllers.BooksController.GetAll (WebAPI-simple)'
2025-10-08 20:17:35.532 +07:00 [INF] Request finished HTTP/1.1 GET https://localhost:7005/api/Books/get-all-books?filterOn=&filterQuery=&sortBy=&isAscending=True - 200 null application/json; charset=utf-8 1753.6401ms
2025-10-08 20:17:40.599 +07:00 [INF] Request starting HTTP/1.1 GET https://localhost:7005/api/authors/get-all-authors - null null
2025-10-08 20:17:40.606 +07:00 [INF] Executing endpoint 'WebAPI_simple.Controllers.AuthorsController.GetAllAuthors (WebAPI-simple)'
2025-10-08 20:17:40.614 +07:00 [INF] Route matched with {action = "GetAllAuthors", controller = "Authors"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllAuthors() on controller WebAPI_simple.Controllers.AuthorsController (WebAPI-simple).
2025-10-08 20:17:40.685 +07:00 [INF] Executed DbCommand (11ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[FullName]
FROM [Authors] AS [a]
2025-10-08 20:17:40.692 +07:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[WebAPI_simple.Models.DTO.AuthorDTO, WebAPI-simple, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-10-08 20:17:40.697 +07:00 [INF] Executed action WebAPI_simple.Controllers.AuthorsController.GetAllAuthors (WebAPI-simple) in 79.5178ms
2025-10-08 20:17:40.700 +07:00 [INF] Executed endpoint 'WebAPI_simple.Controllers.AuthorsController.GetAllAuthors (WebAPI-simple)'
2025-10-08 20:17:40.703 +07:00 [INF] Request finished HTTP/1.1 GET https://localhost:7005/api/authors/get-all-authors - 200 null application/json; charset=utf-8 103.4918ms
2025-10-08 20:17:41.876 +07:00 [INF] Request starting HTTP/1.1 GET https://localhost:7005/api/authors/get-author-by-id/10 - null null
2025-10-08 20:17:41.884 +07:00 [INF] Executing endpoint 'WebAPI_simple.Controllers.AuthorsController.GetAuthorById (WebAPI-simple)'
2025-10-08 20:17:41.892 +07:00 [INF] Route matched with {action = "GetAuthorById", controller = "Authors"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAuthorById(Int32) on controller WebAPI_simple.Controllers.AuthorsController (WebAPI-simple).
2025-10-08 20:17:42.076 +07:00 [INF] Executed DbCommand (3ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[FullName]
FROM [Authors] AS [a]
WHERE [a].[Id] = @__id_0
2025-10-08 20:17:42.135 +07:00 [INF] Executing OkObjectResult, writing value of type 'WebAPI_simple.Models.DTO.AuthorNoIdDTO'.
2025-10-08 20:17:42.139 +07:00 [INF] Executed action WebAPI_simple.Controllers.AuthorsController.GetAuthorById (WebAPI-simple) in 243.7097ms
2025-10-08 20:17:42.143 +07:00 [INF] Executed endpoint 'WebAPI_simple.Controllers.AuthorsController.GetAuthorById (WebAPI-simple)'
2025-10-08 20:17:42.145 +07:00 [INF] Request finished HTTP/1.1 GET https://localhost:7005/api/authors/get-author-by-id/10 - 200 null application/json; charset=utf-8 269.3006ms
2025-10-08 20:17:44.642 +07:00 [INF] Request starting HTTP/1.1 GET https://localhost:7005/api/authors/get-author-by-id/9 - null null
2025-10-08 20:17:44.647 +07:00 [INF] Executing endpoint 'WebAPI_simple.Controllers.AuthorsController.GetAuthorById (WebAPI-simple)'
2025-10-08 20:17:44.650 +07:00 [INF] Route matched with {action = "GetAuthorById", controller = "Authors"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAuthorById(Int32) on controller WebAPI_simple.Controllers.AuthorsController (WebAPI-simple).
2025-10-08 20:17:44.679 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[FullName]
FROM [Authors] AS [a]
WHERE [a].[Id] = @__id_0
2025-10-08 20:17:44.684 +07:00 [INF] Executing OkObjectResult, writing value of type 'WebAPI_simple.Models.DTO.AuthorNoIdDTO'.
2025-10-08 20:17:44.688 +07:00 [INF] Executed action WebAPI_simple.Controllers.AuthorsController.GetAuthorById (WebAPI-simple) in 34.971ms
2025-10-08 20:17:44.690 +07:00 [INF] Executed endpoint 'WebAPI_simple.Controllers.AuthorsController.GetAuthorById (WebAPI-simple)'
2025-10-08 20:17:44.693 +07:00 [INF] Request finished HTTP/1.1 GET https://localhost:7005/api/authors/get-author-by-id/9 - 200 null application/json; charset=utf-8 50.8814ms
